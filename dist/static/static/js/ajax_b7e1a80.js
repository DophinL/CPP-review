define("static/js/ajax",["require","exports","module"],function(t,e,n){"use strict";function a(t){function e(t,e,o,r){var s,u;clearTimeout(a),a=n=void 0,s=t>=200&&300>t||304===t,o&&(o=i(o,l,r)),s?(204===t||"HEAD"===l.method?e="nocontent":304===t&&(e="notmodified"),c.resolve(l.context,[o,e,r])):c.reject(l.context,[r,e,u])}var n,a,r={},c=new o,l=y(y({},b),t);c.success(l.success).error(l.error).always(l.complete),l.method=((l.method||"GET")+"").toUpperCase(),l.url=(l.url+"").replace(/^\/\//,M[1]+"//"),l.crossDomain!==!0&&(l.crossDomain=T(l.url)),l.hasContent=!/^(?:GET|HEAD)/.test(l.method),l.dataType=(l.dataType+"").toLowerCase();var u=l.data;l.processData&&u&&"string"!=typeof u&&(l.data=p(l.data));var f;l.hasContent||(f=l.url,l.data&&(f+=(f.indexOf("?")>-1?"&":"?")+l.data,delete l.data),l.cache===!1&&(f+=(f.indexOf("?")>-1?"&":"?")+"_="+ +new Date),l.url=f);var d=l.accepts[l.dataType];if(r.Accept=d?d+", "+O+"; q=0.01":O,l.hasContent&&l.data&&l.contentType&&(r["Content-Type"]=l.contentType),l.headers=y(r,l.headers),n=s(l)){var h=n.send(l,e);l.timeout>0&&l.async&&(a=setTimeout(function(){h.abort(function(t){e(0,"timeout","",t)})},l.timeout))}else e(-1,"No transport");return{success:function(t){c.success(t)},error:function(t){c.error(t)},always:function(t){c.always(t)}}}function o(){this.doneCallbacks=[],this.failCallbacks=[],this.alwaysCallbacks=[]}function r(t,e,n){for(var a;void 0!==(a=e.shift());)"function"==typeof a&&a.apply(t,n)}function s(t){return j[(t.dataType+"").toLowerCase()]||j.xhr}function c(){}function i(t,e,n){var a,o=e.dataType||e.mimeType||n.getResponseHeader("Content-Type")||"";return a=(o.match(/xml|json/)||[""])[0],a=e.converters[a],"function"==typeof a?a(t):t}function l(t){return window.JSON&&window.JSON.parse?window.JSON.parse(t+""):Function("return "+t)()}function u(t){var e=null,n="";try{window.DOMParser?(e=(new window.DOMParser).parseFromString(t,"text/xml"),n=e.getElementsByTagName("parsererror")):window.ActiveXObject&&(e=new window.ActiveXObject(m()),e.loadXML(t),n=0!=e.parseError?e.parseError.reason:"")}catch(a){e=null}return n.length>0&&(e=null),e}function p(t){function e(t,a){if(w(a))for(var o=0;o<a.length;o++)e(t+"["+("object"==typeof a[o]?o:"")+"]",a[o]);else if(v(a))for(var r in a)e(t+"["+r+"]",a[r]);else n(t,a)}function n(t,e){e=x(e)?e():null==e?"":e,a.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}var a=[];if(w(t))for(var o=0;o<t.length;o++)n(t[o].name,t[o].value);else if(v(t))for(var r in t)e(r,t[r]);return a.join("&").replace(/%20/g,"+")}function f(){try{return new XMLHttpRequest}catch(t){}}function d(){try{return new ActiveXObject(h())}catch(t){}}function h(){var t,e=h.validVersion||"",n=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP"];if(!e)for(;void 0!==(e=n.shift());)try{t=new window.ActiveXObject(e),h.validVersion=e;break}catch(a){e=""}return e}function m(){var t,e=m.validVersion||"",n=["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument"];if(!e)for(;void 0!==(e=n.shift());)try{t=new window.ActiveXObject(e),m.validVersion=e;break}catch(a){e=""}return e}function y(t,e){var n,a,o,r=w(t);for(n in e)g.call(e,n)&&(a=e[n],o=t[n],v(a)?t[n]=y(o||{},a):w(a)?t[n]=y(o||[],a):void 0!==a&&(n=r?t.length:n,t[n]=a));return t}function v(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)}function w(t){return"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"function"==typeof t}function T(t){var e=C.exec(t.toLowerCase());return!!e&&(e[1]!==M[1]||e[2]!==M[2]||(e[3]||("http:"===e[1]?"80":"443"))!==(M[3]||("http:"===M[1]?"80":"443")))}var b={url:"",method:"GET",data:null,async:!0,headers:null,dataType:"",processData:!0,timeout:0,cache:!0,crossDomain:!1,context:null,beforeSend:null,dataFilter:null,success:null,error:null,complete:null,username:null,password:null},j={},O="*/*",C=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,M=C.exec(document.URL.toLowerCase())||[],g=Object.prototype.hasOwnProperty;a.setOptions=function(t){return y(b,t)},j={xhr:{send:function(t,e){var n,a=t.createXHR(),o=t.headers;a.open(t.method,t.url,t.async,t.username,t.password),t.crossDomain||(o["X-Requested-With"]="XMLHttpRequest");for(var r in o)void 0!==o[r]&&a.setRequestHeader(r,o[r]+"");return a.overrideMimeType&&(t.mimeType||o.Accept!==O)&&a.overrideMimeType(t.mimeType||o.Accept.split(",")[0]),n=function(o,r){var s,i,l;if(4===a.readyState||r){if(r)4!==a.readyState&&a.abort();else{try{i=a.statusText}catch(u){i=""}"string"==typeof a.responseText&&(l=a.responseText),s=a.status||!t.isLocal||t.crossDomain?1223===a.status?204:a.status:l?200:404,e(s,i,l,a)}a.onreadystatechange=c,n=null}},t.async?4===a.readyState?setTimeout(n):a.onreadystatechange=n:n(),this.xhr=a,a.send(t.hasContent&&t.data||null),{abort:function(t){n(void 0,!0),t(a)}}}}},a.setOptions({mimeType:"",contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},converters:{text:null,html:null,xml:u,json:l,script:null}}),a.setOptions({isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(M[1]),createXHR:window.ActiveXObject&&(this.isLocal&&/MSIE\s?(?:7)\.0/.test(navigator.userAgent)||f())?d:f}),o.prototype={constructor:o,resolve:function(t,e){r(t,this.doneCallbacks.concat(this.alwaysCallbacks),e)},reject:function(t,e){r(t,this.failCallbacks.concat(this.alwaysCallbacks),e)},always:function(t){return"function"==typeof t&&this.alwaysCallbacks.push(t),this},success:function(t){return"function"==typeof t&&this.doneCallbacks.push(t),this},error:function(t){return"function"==typeof t&&this.failCallbacks.push(t),this}},n.exports=a});