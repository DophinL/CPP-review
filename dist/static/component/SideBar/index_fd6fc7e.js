define("component/SideBar/index",["require","exports","module","component/BaseComponent/index"],function(e,n,s){var i=e("component/BaseComponent/index"),t=i.util,u=i.extend({name:"menu",template:'<ol class="u-menu">\r\n	{#list menuList as aMenu}\r\n		<li class="menuTab {aMenu.selected? \'selected\' :\'\'}">\r\n			<a href="/menus/{aMenu.menuCode}" {#if aMenu.hasChildren} on-click={this.__clickMenu($event, aMenu_index)}{/if}>\r\n				<i class={aMenu.className}></i>\r\n				{aMenu.menuName}\r\n			</a>\r\n			{#if aMenu.hasChildren}\r\n				<ul class="u-submenu" r-hide={!aMenu.showChildren}>\r\n				{#list aMenu.children as sMenu}\r\n					<li class="submenu {sMenu.selected?\'selected\' : \'\'}">\r\n						<a href="/menus/{sMenu.menuCode}">{sMenu.menuName}</a>\r\n					</li>\r\n				{/list}\r\n				</ul>\r\n			{/if}\r\n		</li>\r\n	{/list}\r\n</ol>\r\n\r\n<div class="m-cprt">xxx版权所有</div>',config:function(e){e.getMenuURL="/users/getCurMenus.do"},init:function(){var e=this,n=/\/(?:\w*)\/(\w*)/i,s=window.location.pathname;e.data.showMenuCode=n.test(s)?s.match(n)[1]:"",e.__getMemu()},__getMemu:function(){var e=this,n=e.data;this.$request({url:n.getMenuURL,type:"GET",success:function(s){var i=s.data;n.menuList=i,e.__selectedMenu(),e.$update()}})},__selectedMenu:function(){var e=this,n=e.data,s=n.showMenuCode,i=n.menuList,u={1:"i-capacity",2:"i-todo",14:"i-progress",15:"i-center",20:"i-permission"};t.each(i,function(e,n){n.className=u[n.id],n.menuCode&&n.menuCode==s&&(n.selected=!0);var i=n.children;i.length&&(n.hasChildren=!0,t.each(i,function(e,i){i.menuCode&&i.menuCode==s&&(i.selected=!0,n.selected=!0,n.showChildren=!0)}))})},__clickMenu:function(e,n){var s=this,i=s.data.menuList;i[n].showChildren=!i[n].showChildren,e.preventDefault()}});s.exports=u});